(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[279],{3265:(e,t,s)=>{"use strict";s.d(t,{P:()=>n});var a=s(5453),l=s(6786);let r={north:-25.45,south:-25.55,east:-54.55,west:-54.7},i=(e,t)=>e>=r.south&&e<=r.north&&t>=r.west&&t<=r.east,n=(0,a.v)()((0,l.Zr)((e,t)=>({location:null,locationStatus:"idle",locationError:"",deliveryAddress:null,isDeliveryAvailable:!1,items:[],customer:null,requestLocation:async()=>{if(e({locationStatus:"loading",locationError:""}),!navigator.geolocation)return void e({locationStatus:"error",locationError:"Geolocaliza\xe7\xe3o n\xe3o suportada pelo navegador"});try{let{latitude:t,longitude:s}=(await new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(e,t,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})})).coords,a=i(t,s);e({location:{lat:t,lng:s},locationStatus:"success",isDeliveryAvailable:a});try{let a=await fetch("https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(t,"&lon=").concat(s,"&zoom=18&addressdetails=1")),l=await a.json();l.address&&e({deliveryAddress:{cep:l.address.postcode||"",street:l.address.road||l.address.street||"",number:l.address.house_number||"",neighborhood:l.address.suburb||l.address.neighbourhood||"",city:l.address.city||l.address.town||"Ciudad del Este",state:l.address.state||"Alto Paran\xe1"}})}catch(t){e({deliveryAddress:{cep:"",street:"",number:"",neighborhood:"",city:"Ciudad del Este",state:"Alto Paran\xe1"}})}a||e({locationError:"Infelizmente n\xe3o atendemos sua regi\xe3o ainda"})}catch(t){1===t.code?e({locationStatus:"denied",locationError:"Permiss\xe3o de localiza\xe7\xe3o negada"}):2===t.code?e({locationStatus:"error",locationError:"Localiza\xe7\xe3o n\xe3o dispon\xedvel"}):e({locationStatus:"error",locationError:"Erro ao obter localiza\xe7\xe3o"})}},setLocationStatus:t=>e({locationStatus:t}),setDeliveryAddress:t=>e({deliveryAddress:t}),setDeliveryAvailable:t=>e({isDeliveryAvailable:t}),addItem:function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e(e=>e.items.find(e=>e.product.id===t.id)?{items:e.items.map(e=>e.product.id===t.id?{...e,quantity:e.quantity+s}:e)}:{items:[...e.items,{product:t,quantity:s}]})},removeItem:t=>{e(e=>({items:e.items.filter(e=>e.product.id!==t)}))},updateQuantity:(s,a)=>{if(a<=0)return void t().removeItem(s);e(e=>({items:e.items.map(e=>e.product.id===s?{...e,quantity:a}:e)}))},clearCart:()=>e({items:[]}),setCustomer:t=>e({customer:t}),getTotalItems:()=>t().items.reduce((e,t)=>e+t.quantity,0),getSubtotal:()=>t().items.reduce((e,t)=>e+t.product.price*t.quantity,0),getDeliveryFee:()=>t().getSubtotal()>=80?0:8.9,getTotal:()=>t().getSubtotal()+t().getDeliveryFee(),getFreeDeliveryProgress:()=>Math.min(t().getSubtotal()/80*100,100)}),{name:"plantao-smash-store"}))},3728:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var a=s(5155),l=s(2115),r=s(8999),i=s(6766),n=s(3265),o=s(9434),c=s(7235),d=s(4516),x=s(2302);let m=(0,x.A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),h=(0,x.A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),u=(0,x.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var p=s(646),b=s(9799);let g=(0,x.A)("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),y=(0,x.A)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var v=s(1154);function f(){let e=(0,r.useRouter)(),{items:t,deliveryAddress:s,setDeliveryAddress:x,customer:f,setCustomer:j,getSubtotal:N,getDeliveryFee:w,getTotal:k,isDeliveryAvailable:C,clearCart:F}=(0,n.P)(),[S,A]=(0,l.useState)("address"),[P,D]=(0,l.useState)(!1),[E,M]=(0,l.useState)("pix"),[q,T]=(0,l.useState)(!1),[z,H]=(0,l.useState)((null==s?void 0:s.number)||""),[I,G]=(0,l.useState)((null==s?void 0:s.complement)||""),[R,_]=(0,l.useState)((null==f?void 0:f.name)||""),[L,B]=(0,l.useState)((null==f?void 0:f.phone)||"");(0,l.useEffect)(()=>{T(!0)},[]);let J=q?N():0,Q=q?w():0,V=q?k():0;(0,l.useEffect)(()=>{q&&(0===t.length||!C)&&e.push("/")},[q,t,C,e]);let Y=async()=>{D(!0),await new Promise(e=>setTimeout(e,2e3)),F(),e.push("/checkout/success")},K=[{key:"address",label:"Direcci\xf3n",icon:d.A},{key:"personal",label:"Datos",icon:m},{key:"payment",label:"Pago",icon:h}],O=K.findIndex(e=>e.key===S);return q&&0!==t.length?(0,a.jsxs)("div",{className:"min-h-[100svh] bg-[#F5F5F5] flex flex-col",children:[(0,a.jsxs)("header",{className:"sticky top-0 z-50 bg-[#003366] text-white safe-area-top",children:[(0,a.jsx)("div",{className:"container mx-auto px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("button",{onClick:()=>"address"===S?e.back():A(K[O-1].key),className:"flex items-center gap-1 text-sm font-medium active:opacity-70 transition-opacity",children:[(0,a.jsx)(u,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Volver"})]}),(0,a.jsx)("div",{className:"relative h-8 w-24",children:(0,a.jsx)(i.default,{src:c.k.logo,alt:"Plant\xe3o do Smash",fill:!0,className:"object-contain"})}),(0,a.jsx)("div",{className:"w-16"})]})}),(0,a.jsx)("div",{className:"bg-[#002244] py-3 px-4",children:(0,a.jsx)("div",{className:"flex justify-center items-center gap-2",children:K.map((e,t)=>{let s=t<=O,l=e.key===S;return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-8 w-8 rounded-full flex items-center justify-center text-xs font-bold transition-all ".concat(l?"bg-[#FF8C00] text-white":s?"bg-[#7CFC00] text-[#003366]":"bg-white/20 text-white/50"),children:s&&!l?(0,a.jsx)(p.A,{className:"h-4 w-4"}):t+1}),t<K.length-1&&(0,a.jsx)("div",{className:"w-8 h-0.5 ".concat(s?"bg-[#7CFC00]":"bg-white/20")})]},e.key)})})})]}),(0,a.jsxs)("div",{className:"flex-1 container mx-auto px-4 py-6 max-w-lg",children:["address"===S&&(0,a.jsxs)("div",{className:"space-y-4 animate-in fade-in",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("h1",{className:"text-xl font-black text-[#003366]",children:"Confirma tu direcci\xf3n"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"\xbfD\xf3nde te llevamos tu pedido?"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-4 shadow-sm border",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-[#7CFC00]/20 flex items-center justify-center shrink-0",children:(0,a.jsx)(d.A,{className:"h-5 w-5 text-[#003366]"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-bold text-[#003366] text-sm truncate",children:(null==s?void 0:s.street)||"Tu ubicaci\xf3n"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[null==s?void 0:s.neighborhood,", ",null==s?void 0:s.city]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1.5 block",children:"N\xfamero *"}),(0,a.jsx)("input",{type:"text",inputMode:"numeric",value:z,onChange:e=>H(e.target.value),placeholder:"Ej: 123",className:"w-full h-12 px-4 rounded-xl border-2 border-gray-200 focus:border-[#FF8C00] focus:outline-none transition-colors text-base"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1.5 block",children:"Referencia (opcional)"}),(0,a.jsx)("input",{type:"text",value:I,onChange:e=>G(e.target.value),placeholder:"Ej: Casa blanca, port\xf3n negro",className:"w-full h-12 px-4 rounded-xl border-2 border-gray-200 focus:border-[#FF8C00] focus:outline-none transition-colors text-base"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-[#7CFC00]/10 rounded-xl",children:[(0,a.jsx)(b.A,{className:"h-5 w-5 text-[#003366]"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold text-[#003366] text-sm",children:"Delivery en 25-40 min"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Costo: ",0===Q?"GRATIS":(0,o.vv)(Q)]})]})]}),(0,a.jsx)("button",{onClick:()=>{z&&(x({...s,number:z,complement:I}),A("personal"))},disabled:!z,className:"w-full h-14 rounded-2xl bg-[#FF8C00] text-white font-bold text-lg active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Continuar"})]}),"personal"===S&&(0,a.jsxs)("div",{className:"space-y-4 animate-in fade-in",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("h1",{className:"text-xl font-black text-[#003366]",children:"Tus datos"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Para contactarte sobre tu pedido"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-4 shadow-sm border space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1.5 block",children:"Nombre completo *"}),(0,a.jsx)("input",{type:"text",value:R,onChange:e=>_(e.target.value),placeholder:"Tu nombre",className:"w-full h-12 px-4 rounded-xl border-2 border-gray-200 focus:border-[#FF8C00] focus:outline-none transition-colors text-base"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1.5 block",children:"WhatsApp *"}),(0,a.jsx)("input",{type:"tel",inputMode:"tel",value:L,onChange:e=>B((0,o.qH)(e.target.value)),placeholder:"0981 123 456",maxLength:12,className:"w-full h-12 px-4 rounded-xl border-2 border-gray-200 focus:border-[#FF8C00] focus:outline-none transition-colors text-base"})]})]}),(0,a.jsx)("button",{onClick:()=>{R&&L&&!(L.replace(/\D/g,"").length<9)&&(j({name:R,phone:L}),A("payment"))},disabled:!R||L.replace(/\D/g,"").length<9,className:"w-full h-14 rounded-2xl bg-[#FF8C00] text-white font-bold text-lg active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Continuar"})]}),"payment"===S&&(0,a.jsxs)("div",{className:"space-y-4 animate-in fade-in",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("h1",{className:"text-xl font-black text-[#003366]",children:"M\xe9todo de Pago"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"\xbfC\xf3mo vas a pagar?"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("button",{onClick:()=>M("pix"),className:"p-4 rounded-2xl border-2 transition-all active:scale-95 ".concat("pix"===E?"border-[#FF8C00] bg-[#FF8C00]/5":"border-gray-200 bg-white"),children:[(0,a.jsx)(g,{className:"h-8 w-8 mx-auto mb-2 ".concat("pix"===E?"text-[#FF8C00]":"text-gray-400")}),(0,a.jsx)("p",{className:"font-bold text-sm",children:"Transferencia"}),(0,a.jsx)("p",{className:"text-[10px] text-gray-500",children:"Pago instant\xe1neo"})]}),(0,a.jsxs)("button",{onClick:()=>M("card"),className:"p-4 rounded-2xl border-2 transition-all active:scale-95 ".concat("card"===E?"border-[#FF8C00] bg-[#FF8C00]/5":"border-gray-200 bg-white"),children:[(0,a.jsx)(h,{className:"h-8 w-8 mx-auto mb-2 ".concat("card"===E?"text-[#FF8C00]":"text-gray-400")}),(0,a.jsx)("p",{className:"font-bold text-sm",children:"Efectivo/Tarjeta"}),(0,a.jsx)("p",{className:"text-[10px] text-gray-500",children:"En la entrega"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-4 shadow-sm border",children:[(0,a.jsx)("h3",{className:"font-bold text-[#003366] mb-3 text-sm",children:"Resumen del Pedido"}),(0,a.jsx)("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:t.map(e=>(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsxs)("span",{className:"text-gray-600 truncate flex-1 mr-2",children:[e.quantity,"x ",e.product.name]}),(0,a.jsx)("span",{className:"font-medium shrink-0",children:(0,o.vv)(e.product.price*e.quantity)})]},e.product.id))}),(0,a.jsxs)("div",{className:"border-t mt-3 pt-3 space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Subtotal"}),(0,a.jsx)("span",{children:(0,o.vv)(J)})]}),(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Delivery"}),(0,a.jsx)("span",{className:0===Q?"text-[#7CFC00] font-bold":"",children:0===Q?"GRATIS":(0,o.vv)(Q)})]}),(0,a.jsxs)("div",{className:"flex justify-between text-base font-black text-[#003366] pt-2 border-t",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsx)("span",{children:(0,o.vv)(V)})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-500",children:[(0,a.jsx)(y,{className:"h-4 w-4 text-[#7CFC00]"}),(0,a.jsx)("span",{children:"Pago 100% seguro"})]}),(0,a.jsx)("button",{onClick:Y,disabled:P,className:"w-full h-14 rounded-2xl bg-[#FF8C00] text-white font-bold text-lg active:scale-[0.98] disabled:opacity-50 transition-all flex items-center justify-center gap-2",children:P?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.A,{className:"h-5 w-5 animate-spin"}),"Procesando..."]}):"Confirmar â€¢ ".concat((0,o.vv)(V))})]})]})]}):null}},5336:(e,t,s)=>{Promise.resolve().then(s.bind(s,3728))},7235:(e,t,s)=>{"use strict";s.d(t,{k:()=>a});let a={logo:"https://i.ibb.co/M5SK5GfM/8bf6d27c319e.png",products:{duploEletroChoque:"https://i.ibb.co/JjmLGKy1/954b7be7c0b2.png",residente:"https://i.ibb.co/3937fr0q/abd3ee1563ee.png",baconCardiaco:"https://i.ibb.co/gFHhbGTH/e0967f2cfeb4.png",saladaPlantao:"https://i.ibb.co/7dDSPhQd/8e8c3879a345.png",frangoTecnico:"https://i.ibb.co/7xpn3vjY/915b290612ed.png",kitReanimacao:"https://i.ibb.co/xSBBpHVh/24653221d185.png",doseFritas:"https://i.ibb.co/XrCjbcjH/3d95828c867e.png",aneisAdrenalina:"https://i.ibb.co/vC3vJ8g9/0fc8575becf5.png"},banners:{hero:"https://i.ibb.co/bgPGDM16/f921f3372e22.png",kitReanimacaoPromo:"https://i.ibb.co/cckQht4c/banner-kit-reanimacao-promo.png",comboDuploPromo:"https://i.ibb.co/svGZXdPH/banner-combo-duplo-promo.png"}}},9434:(e,t,s)=>{"use strict";function a(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function l(e){return new Intl.NumberFormat("es-PY",{style:"currency",currency:"PYG",minimumFractionDigits:0,maximumFractionDigits:0}).format(1400*e)}function r(e){return a(e)}function i(e){let t=e.replace(/\D/g,"");return t.length<=4?t:t.length<=7?"".concat(t.slice(0,4)," ").concat(t.slice(4)):"".concat(t.slice(0,4)," ").concat(t.slice(4,7)," ").concat(t.slice(7,10))}s.d(t,{iJ:()=>l,qH:()=>i,vv:()=>r,y7:()=>a})}},e=>{var t=t=>e(e.s=t);e.O(0,[552,441,684,358],()=>t(5336)),_N_E=e.O()}]);